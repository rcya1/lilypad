<!DOCTYPE html><html><head>
      <title>temporary</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script
  src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"
  crossorigin="anonymous"
></script>
<style>
body {
  font-family: 'Open Sans', sans-serif;
  width: 100%;
  height: 100%;
  top: 0;
  margin: 0;
  padding: 2em calc(max(50% - 457px + 2em, 1em));
  position: relative;
  font-size: 16px;
  line-height: 1.6;
  background-color: #fff;
  overflow: initial;
  box-sizing: border-box;
  word-wrap: break-word;
  color: black;
  background-color: white;
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
}
body > :first-child {
  margin-top: 0;
}
body h1,
body h2,
body h3,
body h4,
body h5,
body h6 {
  color: black;
  padding-bottom: 8px;
  border-bottom: 1px solid black;
  font-weight: 600;
  margin-top: 1em;
  margin-bottom: 16px;
  line-height: 1.2;
}
body h1 {
  font-size: 2.25em;
  padding-bottom: 0.3em;
}
body h2 {
  font-size: 1.75em;
  padding-bottom: 0.3em;
}
body h3 {
  font-size: 1.5em;
}
body h4 {
  font-size: 1.25em;
}
body h5 {
  font-size: 1.1em;
}
body h6 {
  font-size: 1em;
}
body p + ul {
  margin-top: -15px;
}
body a:not([href]) {
  color: inherit;
  text-decoration: none;
}
body a {
  color: #08c;
  text-decoration: none;
}
body a:hover {
  color: #00a3f5;
  text-decoration: none;
}
body > p {
  margin-top: 0;
  margin-bottom: 16px;
  word-wrap: break-word;
}
body > ol,
body > ul {
  margin-bottom: 16px;
}
body ol,
body ul {
  padding-left: 2em;
}
body ol ol,
body ol ul,
body ul ol,
body ul ul {
  margin-top: 0;
  margin-bottom: 0;
}
body li {
  margin-bottom: 0;
}
body li > p {
  margin-top: 0;
  margin-bottom: 0;
}
body code {
  font-family: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;
  font-size: 1em;
  padding: 0.15em 0.25em;
  margin: 0;
  white-space: break-spaces;
  background-color: #afb8c133;
  border-radius: 6px;
  color: #000000;
}
body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  color: #1f2328;
  background-color: #e3e6e9;
  border-radius: 6px;
}
body pre > code {
  padding: 0;
  margin: 0;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}
body hr {
  height: 1px;
  margin: 8px 0;
  background-color: #000000;
  border: 0 none;
}
body table {
  margin: 10px 0 15px 0;
  border-collapse: collapse;
  border-spacing: 0;
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}
body table th {
  font-weight: 700;
  color: #000;
}
body table td,
body table th {
  border: 1px solid #d6d6d6;
  padding: 6px 13px;
}
body dl {
  padding: 0;
}
body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: 700;
}
body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}
body ul {
  list-style: disc;
}
body ul ul {
  list-style: circle;
}
body ul ul ul {
  list-style: square;
}
body own-preview ol {
  list-style: decimal;
}
body own-preview ol ol,
body ul ol {
  list-style-type: lower-roman;
}
body own-preview ol ol ol,
body own-preview ol ul ol,
body ul ol ol,
body ul ul ol {
  list-style-type: lower-alpha;
}
body img {
  width: 100%;
  display: block;
  margin-left: auto;
  margin-right: auto;
  margin-bottom: 25px;
}
body .image-caption {
  font-size: 0.8em;
  color: #494949;
  text-align: center;
  margin: -20px auto 10px;
  width: 100%;
}
body .definition {
  border-color: #06c406;
}
body .definition .title {
  background-color: #d9ffd9;
}
body .info {
  border-color: #448aff;
}
body .info .title {
  background-color: #ecf3ff;
}
body .proposition {
  border-color: #448aff;
}
body .proposition .title {
  background-color: #ecf3ff;
}
body .theorem {
  border-color: #448aff;
}
body .theorem .title {
  background-color: #ecf3ff;
}
.admonition {
  border: 1px solid;
  border-radius: 8px;
  margin-bottom: 10px;
}
.admonition .title {
  font-size: 1em;
  font-weight: 600;
  padding: 4px 10px;
  border-radius: 8px 8px 0px 0px;
}
.admonition .title svg {
  margin-right: 4px;
}
.admonition .title p {
  margin: 0px;
}
.admonition .body {
  padding: 8px 10px 0px;
}
.admonition .body > :first-child {
  margin-top: 0;
}
.admonition .body > :last-child {
  margin-bottom: 4px;
}
</style>
</head>
<body><h2>Routers and ASes</h2>
<ul>
<li>A router is a device with multiple ports that connects to multiple devices to form a network</li>
<li>Each router has a chip inside that determines how to route</li>
<li>The overall network is very complicated with many different sizes</li>
</ul>
<div class="admonition definition">
      <div class="title">
        <i class="fa fa-book"></i>Autonomous System
      </div>
      <div class="body">
        <p>A set of routers that all belong to some owner (i.e. AT&amp;T or MIT)</p>

      </div>
    </div><ul>
<li>These ids used to just fit in 16 bits but at some point they didn&#39;t so now we use 32 bits</li>
</ul>
<div class="admonition definition">
      <div class="title">
        <i class="fa fa-book"></i>Competitive Cooperation
      </div>
      <div class="body">
        <ul>
<li>Entities must cooperate for global connectivity</li>
<li>But each one wants to make money</li>
</ul>

      </div>
    </div><ul>
<li>Routers advertise to each other:<ul>
<li>They tell each other about which other servers it can reach so the other servers know to send packets to them</li>
</ul>
</li>
<li>Currently, there is no central authority, it&#39;s all through these bilateral connections<ul>
<li>In the beginning of the internet (ARPANET), there was a large national backbone network with smaller regional networks connecting to them to form a hierarichal structure</li>
</ul>
</li>
</ul>
<p><img style="" src="img/arpanet.png"/></p>
<ul>
<li>This was gradually replaced with multiple backbone providers</li>
<li>As there became more interconnection, we get to modern day<ul>
<li>A lot flatter, more interconnected</li>
<li>Rise of CDN&#39;s (content distribution networks) that do a lot of caching on the Internet</li>
</ul>
</li>
</ul>
<p><img style="" src="img/modern-network.png"/></p>
<div class="admonition definition">
      <div class="title">
        <i class="fa fa-book"></i>Routing Prefix
      </div>
      <div class="body">
        <p>A range of IP addresses based on addresses with the same bistring prefix</p>
<ul>
<li><p>Routers have forwarding table entries that correspond to an address of prefix</p>
</li>
<li><p>I.e. <code>18.0.0.0/8</code> stands for all IP addresses where the first 8 bits are just 18</p>
<ul>
<li><code>18.31.0.0/17</code> stands for all IP addresses where the first 17 correspond to <code>18.31</code></li>
</ul>
</li>
</ul>

      </div>
    </div><ul>
<li>Forwarding rules commonly use the longest matching prefix</li>
</ul>
<div class="admonition definition">
      <div class="title">
        <i class="fa fa-book"></i>Subnetworks
      </div>
      <div class="body">
        <p>Ranges coresponding to routing prefixes that are a power of two size</p>

      </div>
    </div><h2>Internet Business Model</h2>
<p><img style="" src="img/internet-business-model.png"/></p>
<ul>
<li>Money flows from customers to providers<ul>
<li>When customers pay providers, they get to view the providers&#39; routing tables in exchange for money</li>
<li>Since providers want to increase their customers usage (so the customers pay more money), they will provide their entire routing table to the customer</li>
</ul>
</li>
<li>Why have peering?<ul>
<li>You want to collaborate and give each other&#39;s routes to get more visibility without having to pay money<ul>
<li>These are typically with contracts that say things like can&#39;t be to imbalanced</li>
</ul>
</li>
<li>At the very top, we need peering relationships</li>
</ul>
</li>
</ul>
<div class="admonition definition">
      <div class="title">
        <i class="fa fa-book"></i>Transit
      </div>
      <div class="body">
        <p>Technical word for the customer / provider relationship (a service provided for a fee)</p>
<ul>
<li>Can be &quot;partial&quot; or &quot;full&quot; depending on whether the customer receives every route</li>
</ul>

      </div>
    </div><ul>
<li>When a router receives advertisements, it filters what it advertises<ul>
<li>When it receives advertisement from a customer:<ul>
<li>It will always advertise to everyone</li>
<li>It will increase likelihood of using the customer</li>
</ul>
</li>
<li>When it receives routes from provider:<ul>
<li>It will only advertise to customers</li>
<li>Announcing to peers will cause them to lose money</li>
</ul>
</li>
<li>When it receives routes from peers:<ul>
<li>Same as above</li>
</ul>
</li>
</ul>
</li>
<li>The incentive to peer is to avoid paying providers to get to the route (this also makes the number of hops lower)<ul>
<li>There is only incentive if it is somewhat symmetric (i.e. MIT and YouTube will not peer)</li>
</ul>
</li>
</ul>
<h2>BGP</h2>
<ul>
<li>BGP provides capabilities for enforcing various policies, but they are not a part of BGP</li>
<li>BGP allows you to choose from multiple paths</li>
<li>Import policy:<ul>
<li>How to select best paths</li>
</ul>
</li>
<li>Export policy:<ul>
<li>What routes to announce (what we just covered)</li>
</ul>
</li>
</ul>
<h3>Interconnection</h3>
<ul>
<li>Interconnecting two networks requires both physical and network connectivity</li>
<li>Could be done through either:<ul>
<li>Direct, dedicated physical connection</li>
<li>Public connection where all networks connect to a public Internet Exchange switch</li>
</ul>
</li>
</ul>
<p><img style="" src="img/interconnection.png"/></p>
</body></html>